name: Deploy va Ghi Lich Su

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      # BÆ°á»›c 1: Láº¥y code vá» (Ä‘á»ƒ Ä‘á»c thÃ´ng tin commit)
      - name: Lay source code
        uses: actions/checkout@v3

      # BÆ°á»›c 2: In thÃ´ng tin chi tiáº¿t ra mÃ n hÃ¬nh (Ghi lá»‹ch sá»­)
      - name: Ghi Nhat Ky Deploy
        run: |
          echo "--------------------------------------"
          echo "ğŸ•’ Thoi gian: $(date)"
          echo "ğŸ‘¤ Nguoi thuc hien: ${{ github.actor }}"
          echo "ğŸ“ Noi dung commit: ${{ github.event.head_commit.message }}"
          echo "ğŸ”— Commit ID: ${{ github.sha }}"
          echo "--------------------------------------"

      # BÆ°á»›c 3: Gá»­i lá»‡nh sang Render
      - name: Kich hoat Render Deploy
        run: curl -X POST ${{ secrets.RENDER_HOOK }}

      # BÆ°á»›c 4: BÃ¡o káº¿t quáº£ cuá»‘i cÃ¹ng
      - name: Trang thai
        if: success()
        run: echo "âœ… ÄÃ£ gá»­i lá»‡nh deploy thÃ nh cÃ´ng tá»›i Render!"